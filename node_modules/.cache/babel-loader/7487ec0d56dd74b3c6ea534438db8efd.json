{"ast":null,"code":"import _objectSpread from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\react\\\\cric-ngif\\\\src\\\\components\\\\leftPanel\\\\matchSchedules.jsx\";\nimport React, { Component } from \"react\";\nimport config from \"../../config.json\";\nimport Match from 'mathjs'; //import http from '../../services/httpService'\n\nimport http from \"superagent\";\nimport Loading from '../common/loading';\nimport { Link } from 'react-router-dom';\nimport ScheduleMatches from \"../common/scheduleMatches.jsx\"; // import LiveMatch from '../common/liveMatch';\n\nimport '../../assets/css/common/scheduledMatches.css';\n\nvar MatchSchedules =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MatchSchedules, _Component);\n\n  function MatchSchedules(props) {\n    var _this;\n\n    _classCallCheck(this, MatchSchedules);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MatchSchedules).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              window.addEventListener('scroll', _this.handleScroll);\n\n              _this.loadSeriesRecords();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.componentWillUnmount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              window.removeEventListener('scroll', _this.handleScroll);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    _this.loadSeriesRecords =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var _this$props, viewable_id, page, seriesData, Url;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$props = _this.props, viewable_id = _this$props.viewable_id, page = _this$props.page, seriesData = _this$props.seriesData;\n              Url = config.apiEndPoint + \"/\" + \"series_schedule\" + \"/\" + viewable_id + // Series ID stored in ==> viewable_id\n              \"/\" + \"schedule\" + \"?\" + \"page=\" + page;\n              console.log(Url);\n              _context3.next = 5;\n              return http.get(Url).set(\"Accept\", \"application/json\").then(function (res) {\n                _this.setState({\n                  isLoading: false,\n                  isLoaded: true,\n                  seriesData: _objectSpread({}, seriesData, res.body),\n                  hasMore: !(res.body.recent_matches.length + res.body.upcoming_matches.length) === 0\n                }); // live_matches, recent_matches, upcoming_matches\n                // console.log(\"Length is : \", res.body.live_matches.length +  res.body.recent_matches.length +  res.body.upcoming_matches.length);\n\n              }).catch(function (error) {\n                _this.setState({\n                  isLoaded: false,\n                  error: error\n                });\n              });\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n    _this.handleScroll =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4() {\n      var _this$state, hasMore, page, offset, height;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _this$state = _this.state, hasMore = _this$state.hasMore, page = _this$state.page;\n              offset = document.documentElement.scrollTop + window.innerHeight;\n              height = document.documentElement.offsetHeight;\n              console.log(\"HasMore : \", hasMore, \" Page:\", page);\n\n              if (hasMore) {\n                _context4.next = 12;\n                break;\n              }\n\n              if (!(Match.ceil(offset) === height)) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 8;\n              return _this.setState({\n                page: _this.state.page + 1\n              });\n\n            case 8:\n              _context4.next = 10;\n              return _this.loadSeriesRecords();\n\n            case 10:\n              _context4.next = 13;\n              break;\n\n            case 12:\n              console.log('End of list....');\n\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n    _this.state = {\n      pointTable: false,\n      seriesData: [],\n      isLoading: true,\n      isLoaded: false,\n      hasMore: true,\n      selectedType: \"Summary\",\n      error: null,\n      page: 1,\n      perPage: 0\n    };\n    return _this;\n  } //  RECEVING PARAMETERS:-\n  //  viewable_type : 'series',\n  //  viewable_id   : series.id,\n  //  page          : page,\n  //  telco         : telco\n  //   let Url = 'https://back.cricwick.net/api/series_schedule/156/schedule?page=1'\n\n\n  _createClass(MatchSchedules, [{\n    key: \"render\",\n    //  https://back.cricwick.net/api/v2/view_lists/\n    //  get_list_items_from_viewable?viewable_type=series&\n    //  viewable_id=156&page=1&telco=mobilink\n    value: function render() {\n      var _this$state2 = this.state,\n          seriesData = _this$state2.seriesData,\n          error = _this$state2.error,\n          isLoading = _this$state2.isLoading;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \" Error : \", error.message, \" \");\n      } else if (isLoading) {\n        return React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          onScroll: this.handleScroll,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, seriesData['recent_matches'].map(function (match, i) {\n          return React.createElement(\"div\", {\n            key: i,\n            className: \"card p-3 mb-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, match.match_state !== 'Scheduled' ? React.createElement(Link, {\n            to: {\n              pathname: '/summary/',\n              state: {\n                match: match\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          })) : React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }), React.createElement(\"hr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }));\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, seriesData['upcoming_matches'].map(function (match, i) {\n          return React.createElement(\"div\", {\n            ksy: i,\n            className: \"card p-3 mb-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }));\n        })), seriesData['live_matches'].map(function (match, i) {\n          return React.createElement(\"div\", {\n            key: i,\n            className: \"card p-3 mb-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, match.match_state !== 'Scheduled' ? React.createElement(Link, {\n            to: {\n              pathname: '/summary/',\n              state: {\n                match: match\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          })) : React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148\n            },\n            __self: this\n          }));\n        }));\n      }\n    }\n  }]);\n\n  return MatchSchedules;\n}(Component);\n\nexport default MatchSchedules;","map":{"version":3,"sources":["D:\\react\\cric-ngif\\src\\components\\leftPanel\\matchSchedules.jsx"],"names":["React","Component","config","Match","http","Loading","Link","ScheduleMatches","MatchSchedules","props","componentDidMount","window","addEventListener","handleScroll","loadSeriesRecords","componentWillUnmount","removeEventListener","viewable_id","page","seriesData","Url","apiEndPoint","console","log","get","set","then","res","setState","isLoading","isLoaded","body","hasMore","recent_matches","length","upcoming_matches","catch","error","state","offset","document","documentElement","scrollTop","innerHeight","height","offsetHeight","ceil","pointTable","selectedType","perPage","message","map","match","i","match_state","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport config from \"../../config.json\";\r\nimport Match  from 'mathjs';\r\n//import http from '../../services/httpService'\r\nimport http from \"superagent\";\r\nimport Loading from '../common/loading';\r\nimport {Link} from 'react-router-dom';\r\nimport ScheduleMatches from \"../common/scheduleMatches.jsx\";\r\n// import LiveMatch from '../common/liveMatch';\r\nimport '../../assets/css/common/scheduledMatches.css';\r\n\r\nclass MatchSchedules extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pointTable: false,\r\n            seriesData: [],\r\n            isLoading: true,\r\n            isLoaded: false,\r\n            hasMore: true,\r\n            selectedType: \"Summary\",\r\n            error: null,\r\n            page: 1,\r\n            perPage: 0,\r\n        };\r\n    }\r\n    \r\n    //  RECEVING PARAMETERS:-\r\n    //  viewable_type : 'series',\r\n    //  viewable_id   : series.id,\r\n    //  page          : page,\r\n    //  telco         : telco\r\n    \r\n    //   let Url = 'https://back.cricwick.net/api/series_schedule/156/schedule?page=1'\r\n    \r\n    componentDidMount = async () => {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n        this.loadSeriesRecords();\r\n    };\r\n\r\n    componentWillUnmount = async() => {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n    loadSeriesRecords = async () => {\r\n        const { viewable_id, page, seriesData } = this.props;\r\n\r\n        const Url =\r\n            config.apiEndPoint\r\n            + \"/\"\r\n            + \"series_schedule\"\r\n            + \"/\"\r\n            + viewable_id + // Series ID stored in ==> viewable_id\r\n            \"/\" +\r\n            \"schedule\" +\r\n            \"?\" +\r\n            \"page=\" + page;\r\n\r\n        console.log(Url);\r\n\r\n        await http\r\n            .get(Url)\r\n            .set(\"Accept\", \"application/json\")\r\n            .then(res => {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    isLoaded: true,\r\n                    seriesData: {...seriesData, ...res.body},\r\n                    hasMore: (!(res.body.recent_matches.length +  res.body.upcoming_matches.length) === 0),\r\n                });\r\n                // live_matches, recent_matches, upcoming_matches\r\n                // console.log(\"Length is : \", res.body.live_matches.length +  res.body.recent_matches.length +  res.body.upcoming_matches.length);\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    isLoaded: false,\r\n                    error: error\r\n                });\r\n            });\r\n    };\r\n\r\n   \r\n\r\n\r\n    handleScroll = async() => {\r\n        const { hasMore, page } = this.state;\r\n        const offset = (document.documentElement.scrollTop + window.innerHeight);\r\n        const height = document.documentElement.offsetHeight;\r\n\r\n        console.log(\"HasMore : \", hasMore, \" Page:\", page);\r\n\r\n        if (!hasMore) {\r\n            //console.log(\"offset : \", Math.ceil(offset));\r\n            //console.log(\"height : \", height);\r\n            if (Match.ceil(offset) === height) {\r\n                await this.setState({ page: this.state.page + 1 });\r\n                await this.loadSeriesRecords();\r\n            }\r\n        } else {\r\n            console.log('End of list....');\r\n        }\r\n    }\r\n\r\n\r\n    //  https://back.cricwick.net/api/v2/view_lists/\r\n    //  get_list_items_from_viewable?viewable_type=series&\r\n    //  viewable_id=156&page=1&telco=mobilink\r\n\r\n    render() {\r\n        const { seriesData, error, isLoading } = this.state;\r\n\r\n        if (error) {\r\n            return <div> Error : {error.message} </div>;\r\n        } else if (isLoading) {\r\n            return (<Loading />);\r\n        } else {\r\n            return (\r\n                <div onScroll={this.handleScroll}>\r\n                    {seriesData['recent_matches'].map((match, i) => (\r\n                        <div key={i} className='card p-3 mb-1'>\r\n                                {match.match_state !== 'Scheduled'\r\n                                    ?\r\n                                    <Link to={{ pathname: '/summary/', state: { match: match } }}>\r\n                                        <ScheduleMatches match={match} />\r\n                                    </Link>\r\n                                    :\r\n                                    <ScheduleMatches match={match} />}\r\n                                <hr />\r\n                        </div>\r\n                    ))}\r\n\r\n                    <div>\r\n                        {seriesData['upcoming_matches'].map((match, i) => (\r\n                            <div ksy={i} className='card p-3 mb-1'>\r\n                                <ScheduleMatches match={match} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {seriesData['live_matches'].map((match, i) => (\r\n                        <div key={i} className='card p-3 mb-1'>\r\n                            {match.match_state !== 'Scheduled'\r\n                                ?\r\n                                <Link to={{ pathname: '/summary/', state: { match: match } }}>\r\n                                    <ScheduleMatches match={match} />\r\n                                </Link>\r\n                                :\r\n                                <ScheduleMatches match={match} />}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default MatchSchedules;\r\n"]},"metadata":{},"sourceType":"module"}