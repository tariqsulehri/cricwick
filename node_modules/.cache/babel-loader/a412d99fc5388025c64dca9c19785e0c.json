{"ast":null,"code":"import _toConsumableArray from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\react\\\\cric-ngif\\\\src\\\\components\\\\home\\\\homeCenterPanel1.js\";\nimport React, { Component } from 'react'; //import { render } from 'react-dom';\n\nimport request from 'superagent';\nimport Match from 'mathjs';\nimport '../../assets/css/home/homeCenterPanel.css';\nimport SeriesContentsIdentifire from './seriesContentsIdentifire';\nimport OtherContentsIdentifire from './otherContentsIdentifire'; //import axios from 'axios';\n\nvar HomeCenterPanel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomeCenterPanel, _Component);\n\n  function HomeCenterPanel(props) {\n    var _this;\n\n    _classCallCheck(this, HomeCenterPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomeCenterPanel).call(this, props));\n\n    _this.handleScroll = function () {\n      var offset = document.documentElement.scrollTop + window.innerHeight;\n      var height = document.documentElement.offsetHeight; // console.log(\"offset : \", Math.ceil(offset));\n      // console.log(\"height : \", height);\n\n      if (Match.ceil(offset) === height) {\n        _this.setState({\n          page: _this.state.page + 1\n        });\n\n        _this.loadSeriesRecord();\n      }\n    };\n\n    _this.loadSeriesRecord = function () {\n      var _this$state = _this.state,\n          homeContents = _this$state.homeContents,\n          hasMore = _this$state.hasMore,\n          view = _this$state.view,\n          webuser = _this$state.webuser,\n          page = _this$state.page,\n          perPage = _this$state.perPage; // fetch(\"http://back.cricwick.net/api/v3/view_lists/get_by_name?view=home\")\n      //Home Series Api  \n\n      var Url = _this.state.baseUrl + '/' + 'get_by_name?view=' + view + '&web_user=' + webuser + '&page=' + page + '&per_page=' + perPage;\n      console.log(Url);\n      console.log(hasMore);\n      request.get(Url).set('Accept', 'application/json').then(function (res) {\n        _this.setState({\n          isLoaded: true,\n          isLoading: false,\n          homeContents: [].concat(_toConsumableArray(homeContents), _toConsumableArray(res.body)),\n          hasMore: res.length < perPage\n        });\n      }).catch(function (error) {\n        _this.setState({\n          inLoaded: true,\n          error: error\n        });\n      });\n    };\n\n    _this.state = {\n      error: null,\n      isLoaded: false,\n      isLoading: false,\n      homeContents: [],\n      hasMore: true,\n      view: 'home',\n      webuser: 1,\n      page: 1,\n      perPage: 5,\n      ranking: [],\n      series: [],\n      match: null,\n      baseUrl: 'http://back.cricwick.net/api/v3/view_lists'\n    };\n    return _this;\n  }\n\n  _createClass(HomeCenterPanel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('scroll', this.handleScroll);\n      this.loadSeriesRecord();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this.handleScroll);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          error = _this$state2.error,\n          isLoaded = _this$state2.isLoaded,\n          homeContents = _this$state2.homeContents; //let tempContents1 =  homeContents.filter(x => x.type !== 'generic-home');\n      //let genericHome =  homeContents.filter(x => x.type === 'generic-home');\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \" Error : \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \" Loading Data.... \");\n      } else {\n        return React.createElement(\"div\", {\n          onScroll: this.handleScroll,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, homeContents.map(function (series, cnt) {\n          return React.createElement(\"div\", {\n            key: cnt,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"home-div\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, series.type === 'series' && series.data.map(function (matches, mat) {\n            return React.createElement(\"div\", {\n              key: mat,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119\n              },\n              __self: this\n            }, matches.data.map(function (match, i) {\n              return React.createElement(\"div\", {\n                key: i,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 122\n                },\n                __self: this\n              }, React.createElement(SeriesContentsIdentifire, {\n                match: match,\n                printSeriesTitle: i,\n                seriesTitle: series.title,\n                contentType: matches.type,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 123\n                },\n                __self: this\n              }));\n            }));\n          }), series.type === 'video' && React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, React.createElement(OtherContentsIdentifire, {\n            contents: series,\n            contentType: series.type,\n            typeVideo: 'video',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          })), series.type === 'generic-home' && React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(OtherContentsIdentifire, {\n            contents: series,\n            contentType: series.type,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }))));\n        }));\n      }\n    }\n  }]);\n\n  return HomeCenterPanel;\n}(Component);\n\nexport default HomeCenterPanel;","map":{"version":3,"sources":["D:\\react\\cric-ngif\\src\\components\\home\\homeCenterPanel1.js"],"names":["React","Component","request","Match","SeriesContentsIdentifire","OtherContentsIdentifire","HomeCenterPanel","props","handleScroll","offset","document","documentElement","scrollTop","window","innerHeight","height","offsetHeight","ceil","setState","page","state","loadSeriesRecord","homeContents","hasMore","view","webuser","perPage","Url","baseUrl","console","log","get","set","then","res","isLoaded","isLoading","body","length","catch","error","inLoaded","ranking","series","match","addEventListener","removeEventListener","message","map","cnt","type","data","matches","mat","i","title"],"mappings":"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","sourcesContent":["import React, { Component } from  'react';\r\n//import { render } from 'react-dom';\r\nimport request              from  'superagent';\r\nimport Match                from  'mathjs';\r\n\r\nimport '../../assets/css/home/homeCenterPanel.css';\r\nimport SeriesContentsIdentifire from './seriesContentsIdentifire';\r\nimport OtherContentsIdentifire from './otherContentsIdentifire';\r\n//import axios from 'axios';\r\n\r\nclass HomeCenterPanel extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            isLoading: false,\r\n            homeContents: [],\r\n            hasMore: true,\r\n            view: 'home',\r\n            webuser: 1,\r\n            page: 1,\r\n            perPage: 5,\r\n            ranking: [],\r\n            series: [],\r\n            match: null,\r\n            baseUrl: 'http://back.cricwick.net/api/v3/view_lists'\r\n        };\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n        this.loadSeriesRecord();\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n\r\n    handleScroll = () => {\r\n        \r\n        let offset = (document.documentElement.scrollTop + window.innerHeight);\r\n        let height = document.documentElement.offsetHeight;\r\n\r\n       // console.log(\"offset : \", Math.ceil(offset));\r\n       // console.log(\"height : \", height);\r\n\r\n\r\n        if (Match.ceil(offset) === height) {\r\n            this.setState({ page: this.state.page + 1 });\r\n            this.loadSeriesRecord();\r\n        }\r\n\r\n    }\r\n\r\n    loadSeriesRecord = () => {\r\n      const {homeContents, hasMore, view ,webuser, page, perPage} =  this.state;\r\n        // fetch(\"http://back.cricwick.net/api/v3/view_lists/get_by_name?view=home\")\r\n        //Home Series Api  \r\n        const Url = this.state.baseUrl + '/'\r\n            + 'get_by_name?view=' + view\r\n            + '&web_user=' + webuser\r\n            + '&page=' + page\r\n            + '&per_page=' + perPage;\r\n \r\n        console.log(Url);\r\n        console.log(hasMore);\r\n        \r\n        request\r\n            .get(Url)\r\n            .set('Accept','application/json')\r\n            .then(res => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    isLoading: false,\r\n                    homeContents: [...homeContents, ...res.body],\r\n                    hasMore: (res.length < perPage)\r\n                });\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    inLoaded: true,\r\n                    error\r\n                });\r\n           });\r\n    }\r\n\r\n    render() {\r\n        const { error, isLoaded, homeContents } = this.state;\r\n\r\n        //let tempContents1 =  homeContents.filter(x => x.type !== 'generic-home');\r\n        //let genericHome =  homeContents.filter(x => x.type === 'generic-home');\r\n\r\n        if (error) {\r\n            return (<div> Error : {error.message}</div>);\r\n        } else if (!isLoaded) {\r\n            return (<div> Loading Data.... </div>);\r\n        } else {\r\n\r\n            return (\r\n\r\n                <div onScroll={this.handleScroll}>\r\n\r\n                    {/* Itreate top level contents line Series and Other Data */}\r\n                    {homeContents.map((series, cnt) => (\r\n                        <div key={cnt}>\r\n\r\n                            <div className=\"home-div\">\r\n\r\n                                {/* Check Either the Current Level of Itration is a ( SERIES) */}\r\n                                {series.type === 'series' &&\r\n                                    series.data.map((matches, mat) => (\r\n\r\n                                        <div key={mat} >\r\n                                            {/* Render Series Contents Matches/Videos/Articles/Tweets etc */}\r\n                                            {matches.data.map((match, i) => (\r\n                                                <div key={i}>\r\n                                                    <SeriesContentsIdentifire match={match}\r\n                                                        printSeriesTitle={i}\r\n                                                        seriesTitle={series.title}\r\n                                                        contentType={matches.type} />\r\n                                                </div>\r\n                                            ))}\r\n                                            {/* ----------------- End Series Contents ------------- */}\r\n                                        </div>\r\n                                    ))}\r\n                                {/* -------------------------------------------------------------------------- */}\r\n\r\n                                {/* Check Either the Current Level of Itration is a ( RANKING ) */}\r\n\r\n                                {/* {series.type==='ranking' && \r\n                                        <div>\r\n                                             {this.setState({ranking: series})}\r\n                                        </div>  \r\n                                 }  */}\r\n\r\n                                {/* --------------------------------------------------------------------------\r\n\r\n                                {/* Check Either the Current Level of Itration is Other than  ( VIDEO ) */}\r\n                                {series.type === 'video' &&\r\n                                    <div>\r\n                                        <OtherContentsIdentifire contents={series}\r\n                                            contentType={series.type}\r\n                                            typeVideo={'video'}\r\n                                        />\r\n                                    </div>\r\n                                }\r\n\r\n                                {/* ------------------------------------------------------------------------- */}\r\n                                {/* Check Either the Current Level of Itration is Other than  ( SERIES ) */}\r\n                                {series.type === 'generic-home' &&\r\n                                    <div>\r\n                                        <OtherContentsIdentifire contents={series}\r\n                                            contentType={series.type}\r\n                                        />\r\n\r\n                                    </div>\r\n                                }\r\n                                {/* ------------------------------------------------------------------------- */}\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    ))}\r\n                    {/* -------------END OF ITRATION--------------------------- */}\r\n\r\n                </div>\r\n            )\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default HomeCenterPanel;\r\n"]},"metadata":{},"sourceType":"module"}