{"ast":null,"code":"import _toConsumableArray from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\react\\\\cric-ngif\\\\src\\\\components\\\\leftPanel\\\\matchSchedules.jsx\";\nimport React, { Component } from \"react\";\nimport config from \"../../config.json\";\nimport Match from 'mathjs'; //import http from '../../services/httpService'\n\nimport http from \"superagent\";\nimport { Link } from 'react-router-dom';\nimport ScheduleMatches from \"../common/scheduleMatches.jsx\"; // import LiveMatch from '../common/liveMatch';\n\nimport '../../assets/css/common/scheduledMatches.css';\n\nvar MatchSchedules =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MatchSchedules, _Component);\n\n  function MatchSchedules(props) {\n    var _this;\n\n    _classCallCheck(this, MatchSchedules);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MatchSchedules).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.getSeriesRecords();\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.getSeriesRecords =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var _this$props, viewable_id, page, perPage, seriesData, Url;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props = _this.props, viewable_id = _this$props.viewable_id, page = _this$props.page, perPage = _this$props.perPage, seriesData = _this$props.seriesData;\n              Url = config.apiEndPoint + \"/\" + \"series_schedule\" + \"/\" + viewable_id + // Series ID stored in ==> viewable_id\n              \"/\" + \"schedule\" + \"?\" + \"page=\" + page;\n              console.log(Url);\n              _context2.next = 5;\n              return http.get(Url).set(\"Accept\", \"application/json\").then(function (res) {\n                _this.setState({\n                  isLoading: false,\n                  isLoaded: true,\n                  seriesData: [].concat(_toConsumableArray(seriesData), _toConsumableArray(res.body.upcoming_matches)),\n                  hasMore: res.body.upcoming_matches < perPage\n                }); //live_matches, recent_matches, upcoming_matches\n\n\n                console.log(_this.state.seriesData.upcoming_matches);\n              }).catch(function (error) {\n                _this.setState({\n                  isLoaded: false,\n                  error: error\n                });\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    _this.handleScroll = function () {\n      var hasMore = _this.state.hasMore;\n      var offset = document.documentElement.scrollTop + window.innerHeight;\n      var height = document.documentElement.offsetHeight;\n\n      if (!hasMore) {\n        //console.log(\"offset : \", Math.ceil(offset));\n        //console.log(\"height : \", height);\n        if (Match.ceil(offset) === height) {\n          _this.setState({\n            page: _this.state.page + 1\n          });\n\n          _this.loadSeriesRecord();\n        }\n      }\n    };\n\n    _this.state = {\n      pointTable: false,\n      seriesData: [],\n      isLoading: true,\n      isLoaded: false,\n      hasMore: true,\n      selectedType: \"Summary\",\n      error: null,\n      page: 1,\n      perPage: 3\n    };\n    return _this;\n  } //  RECEVING PARAMETERS:-\n  //  viewable_type : 'series',\n  //  viewable_id   : series.id,\n  //  page          : page,\n  //  telco         : telco\n  //   let Url = 'https://back.cricwick.net/api/series_schedule/156/schedule?page=1'\n\n\n  _createClass(MatchSchedules, [{\n    key: \"render\",\n    //  https://back.cricwick.net/api/v2/view_lists/\n    //  get_list_items_from_viewable?viewable_type=series&\n    //  viewable_id=156&page=1&telco=mobilink\n    value: function render() {\n      var _this$state = this.state,\n          seriesData = _this$state.seriesData,\n          error = _this$state.error,\n          isLoading = _this$state.isLoading;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \" Error : \", error.message, \" \");\n      } else if (isLoading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \" Loading Data... \");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card p-3 mb-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, seriesData['recent_matches'].map(function (match, i) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, match.match_state !== 'Scheduled' ? React.createElement(Link, {\n            to: {\n              pathname: '/summary/',\n              state: {\n                match: match\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          })) : React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }), React.createElement(\"hr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }));\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, seriesData['upcoming_matches'].map(function (match, i) {\n          return React.createElement(\"div\", {\n            className: \"card p-3 mb-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }));\n        })), React.createElement(\"div\", {\n          className: \"card p-3 mb-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, seriesData['live_matches'].map(function (match, i) {\n          return match.match_state !== 'Scheduled' ? React.createElement(Link, {\n            to: {\n              pathname: '/summary/',\n              state: {\n                match: match\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          })) : React.createElement(ScheduleMatches, {\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          });\n        })));\n      }\n    }\n  }]);\n\n  return MatchSchedules;\n}(Component);\n\nexport default MatchSchedules;","map":{"version":3,"sources":["D:\\react\\cric-ngif\\src\\components\\leftPanel\\matchSchedules.jsx"],"names":["React","Component","config","Match","http","Link","ScheduleMatches","MatchSchedules","props","componentDidMount","getSeriesRecords","viewable_id","page","perPage","seriesData","Url","apiEndPoint","console","log","get","set","then","res","setState","isLoading","isLoaded","body","upcoming_matches","hasMore","state","catch","error","handleScroll","offset","document","documentElement","scrollTop","window","innerHeight","height","offsetHeight","ceil","loadSeriesRecord","pointTable","selectedType","message","map","match","i","match_state","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport config from \"../../config.json\";\r\nimport Match  from 'mathjs';\r\n//import http from '../../services/httpService'\r\nimport http from \"superagent\";\r\nimport {Link} from 'react-router-dom';\r\nimport ScheduleMatches from \"../common/scheduleMatches.jsx\";\r\n// import LiveMatch from '../common/liveMatch';\r\nimport '../../assets/css/common/scheduledMatches.css';\r\n\r\nclass MatchSchedules extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pointTable: false,\r\n            seriesData: [],\r\n            isLoading: true,\r\n            isLoaded: false,\r\n            hasMore: true,\r\n            selectedType: \"Summary\",\r\n            error: null,\r\n            page: 1,\r\n            perPage: 3,\r\n        };\r\n    }\r\n\r\n    //  RECEVING PARAMETERS:-\r\n    //  viewable_type : 'series',\r\n    //  viewable_id   : series.id,\r\n    //  page          : page,\r\n    //  telco         : telco\r\n\r\n    //   let Url = 'https://back.cricwick.net/api/series_schedule/156/schedule?page=1'\r\n\r\n    componentDidMount = async () => {\r\n        this.getSeriesRecords();\r\n    };\r\n\r\n    getSeriesRecords = async () => {\r\n        const { viewable_id, page, perPage , seriesData } = this.props;\r\n\r\n        const Url =\r\n            config.apiEndPoint\r\n            + \"/\"\r\n            + \"series_schedule\"\r\n            + \"/\"\r\n            + viewable_id + // Series ID stored in ==> viewable_id\r\n            \"/\" +\r\n            \"schedule\" +\r\n            \"?\" +\r\n            \"page=\" + page;\r\n\r\n        console.log(Url);\r\n\r\n        await http\r\n            .get(Url)\r\n            .set(\"Accept\", \"application/json\")\r\n            .then(res => {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    isLoaded: true,\r\n                    seriesData: [...seriesData,  ...res.body.upcoming_matches],\r\n                    hasMore: (res.body.upcoming_matches < perPage),\r\n                });\r\n               //live_matches, recent_matches, upcoming_matches\r\n               console.log(this.state.seriesData.upcoming_matches);\r\n\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    isLoaded: false,\r\n                    error: error\r\n                });\r\n            });\r\n    };\r\n\r\n\r\n    handleScroll = () => {\r\n       const {hasMore} =  this.state;\r\n       const offset = (document.documentElement.scrollTop + window.innerHeight);\r\n       const height = document.documentElement.offsetHeight;\r\n\r\n        if (!hasMore){\r\n            //console.log(\"offset : \", Math.ceil(offset));\r\n            //console.log(\"height : \", height);\r\n            if (Match.ceil(offset) === height) {\r\n                this.setState({ page: this.state.page + 1 });\r\n                this.loadSeriesRecord();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //  https://back.cricwick.net/api/v2/view_lists/\r\n    //  get_list_items_from_viewable?viewable_type=series&\r\n    //  viewable_id=156&page=1&telco=mobilink\r\n\r\n    render() {\r\n        const { seriesData, error, isLoading } = this.state;\r\n\r\n        if (error) {\r\n            return <div> Error : {error.message} </div>;\r\n        } else if (isLoading) {\r\n            return <div> Loading Data... </div>;\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <div className='card p-3 mb-1'>\r\n                        {seriesData['recent_matches'].map((match, i) => (\r\n                            <div>\r\n                                {match.match_state !== 'Scheduled'\r\n                                    ?\r\n                                    <Link to={{ pathname: '/summary/', state: { match: match } }}>\r\n                                        <ScheduleMatches match={match} />\r\n                                    </Link>\r\n                                    :\r\n                                    <ScheduleMatches match={match} />}\r\n                                <hr />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div>\r\n                        {seriesData['upcoming_matches'].map((match, i) => (\r\n                            <div className='card p-3 mb-1'>\r\n                                <ScheduleMatches match={match} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className='card p-3 mb-1'>\r\n                        {seriesData['live_matches'].map((match, i) => (\r\n                            match.match_state !== 'Scheduled'\r\n                                ?\r\n                                <Link to={{ pathname: '/summary/', state: { match: match } }}>\r\n                                    <ScheduleMatches match={match} />\r\n                                </Link>\r\n                                :\r\n                                <ScheduleMatches match={match} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default MatchSchedules;\r\n"]},"metadata":{},"sourceType":"module"}