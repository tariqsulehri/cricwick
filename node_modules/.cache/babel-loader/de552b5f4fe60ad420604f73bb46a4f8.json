{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\projects\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\projects\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\projects\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\projects\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\projects\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\projects\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\projects\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\projects\\\\react\\\\cric-ngif\\\\src\\\\components\\\\home\\\\homeLeftDownPanel.jsx\";\nimport React, { Component } from 'react';\nimport config from '../../config.json';\nimport http from '../../services/httpService';\nimport { Link } from 'react-router-dom';\nimport LoadingSidepanel from '../common/loadingSidepanel';\nimport '../../assets/css/home/homeLeftPanel.css';\n\nvar HomeLeftDownPanel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomeLeftDownPanel, _Component);\n\n  function HomeLeftDownPanel(props) {\n    var _this;\n\n    _classCallCheck(this, HomeLeftDownPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomeLeftDownPanel).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.loadSeriesRecords();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.loadSeriesRecords =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var _this$state, page, perPage, baseUrl, Url, _ref3, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$state = _this.state, page = _this$state.page, perPage = _this$state.perPage, baseUrl = _this$state.baseUrl;\n              Url = baseUrl + '/' + 'news';\n              console.log(Url);\n              _context2.prev = 3;\n              _context2.next = 6;\n              return http.get(Url);\n\n            case 6:\n              _ref3 = _context2.sent;\n              data = _ref3.data;\n\n              _this.setState(function () {\n                return {\n                  isLoaded: true,\n                  isLoading: false,\n                  seriesData: data.data\n                };\n              });\n\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](3);\n\n              if (_context2.t0.response && _context2.t0.response.status === 404) {\n                toast.error(\"Errror : \", _context2.t0.response.message);\n              }\n\n              _this.setState({\n                isLoaded: false,\n                error: _context2.t0\n              });\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[3, 11]]);\n    }));\n    _this.state = {\n      error: null,\n      isLoaded: false,\n      isLoading: false,\n      hasMore: true,\n      seriesData: [],\n      baseUrl: config.apiEndPoint,\n      telco: config.telco,\n      updates: []\n    };\n    return _this;\n  }\n\n  _createClass(HomeLeftDownPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          error = _this$state2.error,\n          isLoaded = _this$state2.isLoaded,\n          seriesData = _this$state2.seriesData;\n\n      if (!isLoaded) {\n        return React.createElement(LoadingSidepanel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        });\n      } else if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, \" error : \", error.message, \" \");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card card-block p-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          className: \"card-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Latest Updates\"), React.createElement(\"div\", {\n          className: \"card-body p-0 pb-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"list-group pt-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, updates.data.slice(0, 5).map(function (update, i) {\n          return React.createElement(\"li\", {\n            key: i,\n            className: \"list-group-item\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/stories/\".concat('news', \"/\", update.id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }, update.title));\n        })))));\n      }\n    }\n  }]);\n\n  return HomeLeftDownPanel;\n}(Component);\n\nexport default HomeLeftDownPanel; // <div className=\"card card-block p-2\">\n// <h6 className=\"card-header p-1\">Featured Series</h6>\n// <div className='card-body p-0 pb-1'>\n//  <ul className='list-group pt-1'>","map":{"version":3,"sources":["D:\\projects\\react\\cric-ngif\\src\\components\\home\\homeLeftDownPanel.jsx"],"names":["React","Component","config","http","Link","LoadingSidepanel","HomeLeftDownPanel","props","componentDidMount","loadSeriesRecords","state","page","perPage","baseUrl","Url","console","log","get","data","setState","isLoaded","isLoading","seriesData","response","status","toast","error","message","hasMore","apiEndPoint","telco","updates","slice","map","update","i","id","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport config  from '../../config.json';\r\nimport http    from '../../services/httpService'; \r\nimport { Link } from 'react-router-dom';\r\nimport LoadingSidepanel from '../common/loadingSidepanel';\r\nimport '../../assets/css/home/homeLeftPanel.css';\r\n\r\nclass HomeLeftDownPanel extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            isLoading: false,\r\n            hasMore: true,\r\n            seriesData: [],\r\n            baseUrl: config.apiEndPoint,\r\n            telco  : config.telco,\r\n            updates: []\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n         await this.loadSeriesRecords();\r\n    }\r\n\r\n    // componentWillUnmount(){\r\n    //   window.removeEventListener('scroll', this.handleScroll);\r\n    // }\r\n    \r\n    loadSeriesRecords = async () => {\r\n        const { page, perPage, baseUrl } = this.state;\r\n\r\n        let Url = baseUrl\r\n            + '/'\r\n            + 'news'\r\n\r\n        console.log(Url);\r\n\r\n        try {\r\n            const { data } = await http.get(Url);\r\n            this.setState(() => {\r\n                return {\r\n                    isLoaded:   true,\r\n                    isLoading:  false,\r\n                    seriesData: data.data,\r\n                }\r\n            });\r\n        } catch (ex) {\r\n            if (ex.response && ex.response.status === 404) {\r\n                toast.error(\"Errror : \",ex.response.message);\r\n            }\r\n            this.setState({\r\n                isLoaded: false,\r\n                error: ex,\r\n            });\r\n        } \r\n     \r\n    }\r\n\r\n  render() {\r\n        const { error, isLoaded, seriesData } = this.state;\r\n\r\n        if (!isLoaded) {\r\n            return (<LoadingSidepanel />)\r\n        } else if (error) {\r\n            return (<div> error : {error.message} </div>)\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <div className=\"card card-block p-2\">\r\n                        <h6 className=\"card-header\">Latest Updates</h6>\r\n                        <div className='card-body p-0 pb-1'>\r\n                            <ul className='list-group pt-1'>\r\n                                {updates.data.slice(0, 5).map((update, i) => (\r\n                                    <li key={i} className='list-group-item'>\r\n                                        <Link  to={`/stories/${'news'}/${update.id}`} >\r\n                                            {update.title}\r\n                                        </Link>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default HomeLeftDownPanel;\r\n\r\n\r\n// <div className=\"card card-block p-2\">\r\n// <h6 className=\"card-header p-1\">Featured Series</h6>\r\n// <div className='card-body p-0 pb-1'>\r\n//  <ul className='list-group pt-1'>"]},"metadata":{},"sourceType":"module"}