{"ast":null,"code":"import _toConsumableArray from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\react\\\\cric-ngif\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\react\\\\cric-ngif\\\\src\\\\components\\\\home\\\\homeCenterPanel1.js\";\nimport React, { Component } from 'react'; //import { render } from 'react-dom';\n\nimport request from 'superagent';\nimport Match from 'mathjs';\nimport '../../assets/css/home/homeCenterPanel.css';\nimport SeriesContentsIdentifire from './seriesContentsIdentifire';\nimport OtherContentsIdentifire from './otherContentsIdentifire'; //import axios from 'axios';\n\nvar HomeCenterPanel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomeCenterPanel, _Component);\n\n  function HomeCenterPanel(props) {\n    var _this;\n\n    _classCallCheck(this, HomeCenterPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomeCenterPanel).call(this, props));\n\n    _this.handleScroll = function () {\n      var offset = document.documentElement.scrollTop + window.innerHeight;\n      var height = document.documentElement.offsetHeight; // console.log(\"offset : \", Math.ceil(offset));\n      // console.log(\"height : \", height);\n\n      if (Match.ceil(offset) === height) {\n        _this.setState({\n          page: _this.state.page + 1\n        });\n\n        _this.loadSeriesRecord(); // console.log(\"Loading page ...# : \", this.state.page);\n        // console.log(\"Contents ...# : \", this.state.homeContents);\n\n      }\n    };\n\n    _this.loadSeriesRecord = function () {\n      // fetch(\"http://back.cricwick.net/api/v3/view_lists/get_by_name?view=home\")\n      //Home Series Api  \n      var Url = _this.state.baseUrl + '/' + 'get_by_name?view=' + _this.state.view + '&web_user=' + _this.state.webuser + '&page=' + _this.state.page + '&per_page=' + _this.state.perPage;\n      console.log(Url);\n      request.get(Url).then(function (res) {\n        _this.setState({\n          isLoaded: true,\n          isLoading: false,\n          homeContents: [].concat(_toConsumableArray(_this.state.homeContents), _toConsumableArray(res.body)),\n          hasMore: res.length < _this.state.perPage\n        });\n      }).catch(function (error) {\n        _this.setState({\n          inLoaded: true,\n          error: error\n        });\n      });\n    };\n\n    _this.state = {\n      error: null,\n      isLoaded: false,\n      isLoading: false,\n      hasMore: true,\n      homeContents: [],\n      view: 'home',\n      webuser: 1,\n      page: 1,\n      perPage: 5,\n      ranking: [],\n      series: [],\n      match: null,\n      baseUrl: 'http://back.cricwick.net/api/v3/view_lists'\n    };\n    return _this;\n  }\n\n  _createClass(HomeCenterPanel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('scroll', this.handleScroll);\n      this.loadSeriesRecord();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this.handleScroll);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded,\n          homeContents = _this$state.homeContents; //let tempContents1 =  homeContents.filter(x => x.type !== 'generic-home');\n      //let genericHome =  homeContents.filter(x => x.type === 'generic-home');\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \" Error : \", error.message);\n      } else if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \" Loading Data.... \");\n      } else {\n        return React.createElement(\"div\", {\n          onScroll: this.handleScroll,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, homeContents.map(function (series, cnt) {\n          return React.createElement(\"div\", {\n            key: cnt,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"home-div\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }, series.type === 'series' && series.data.map(function (matches, mat) {\n            return React.createElement(\"div\", {\n              key: mat,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 122\n              },\n              __self: this\n            }, matches.data.map(function (match, i) {\n              return React.createElement(\"div\", {\n                key: i,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 125\n                },\n                __self: this\n              }, React.createElement(SeriesContentsIdentifire, {\n                match: match,\n                printSeriesTitle: i,\n                seriesTitle: series.title,\n                contentType: matches.type,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 126\n                },\n                __self: this\n              }));\n            }));\n          }), series.type === 'video' && React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 149\n            },\n            __self: this\n          }, React.createElement(OtherContentsIdentifire, {\n            contents: series,\n            contentType: series.type,\n            typeVideo: 'video',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150\n            },\n            __self: this\n          })), series.type === 'generic-home' && React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }, React.createElement(OtherContentsIdentifire, {\n            contents: series,\n            contentType: series.type,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          }))));\n        }));\n      }\n    }\n  }]);\n\n  return HomeCenterPanel;\n}(Component);\n\nexport default HomeCenterPanel;","map":{"version":3,"sources":["D:\\react\\cric-ngif\\src\\components\\home\\homeCenterPanel1.js"],"names":["React","Component","request","Match","SeriesContentsIdentifire","OtherContentsIdentifire","HomeCenterPanel","props","handleScroll","offset","document","documentElement","scrollTop","window","innerHeight","height","offsetHeight","ceil","setState","page","state","loadSeriesRecord","Url","baseUrl","view","webuser","perPage","console","log","get","then","res","isLoaded","isLoading","homeContents","body","hasMore","length","catch","error","inLoaded","ranking","series","match","addEventListener","removeEventListener","message","map","cnt","type","data","matches","mat","i","title"],"mappings":"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","sourcesContent":["import React, { Component } from  'react';\r\n//import { render } from 'react-dom';\r\nimport request              from  'superagent';\r\nimport Match                from  'mathjs';\r\n\r\nimport '../../assets/css/home/homeCenterPanel.css';\r\nimport SeriesContentsIdentifire from './seriesContentsIdentifire';\r\nimport OtherContentsIdentifire from './otherContentsIdentifire';\r\n//import axios from 'axios';\r\n\r\nclass HomeCenterPanel extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            isLoading: false,\r\n            hasMore: true,\r\n            homeContents: [],\r\n            view: 'home',\r\n            webuser: 1,\r\n            page: 1,\r\n            perPage: 5,\r\n            ranking: [],\r\n            series: [],\r\n            match: null,\r\n            baseUrl: 'http://back.cricwick.net/api/v3/view_lists'\r\n        };\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n        this.loadSeriesRecord();\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n\r\n    handleScroll = () => {\r\n        \r\n        let offset = (document.documentElement.scrollTop + window.innerHeight);\r\n        let height = document.documentElement.offsetHeight;\r\n\r\n       // console.log(\"offset : \", Math.ceil(offset));\r\n       // console.log(\"height : \", height);\r\n\r\n\r\n        if (Match.ceil(offset) === height) {\r\n            this.setState({ page: this.state.page + 1 });\r\n            this.loadSeriesRecord();\r\n           // console.log(\"Loading page ...# : \", this.state.page);\r\n           // console.log(\"Contents ...# : \", this.state.homeContents);\r\n        }\r\n\r\n    }\r\n\r\n    loadSeriesRecord = () => {\r\n\r\n        // fetch(\"http://back.cricwick.net/api/v3/view_lists/get_by_name?view=home\")\r\n        //Home Series Api  \r\n        const Url = this.state.baseUrl + '/'\r\n            + 'get_by_name?view=' + this.state.view\r\n            + '&web_user=' + this.state.webuser\r\n            + '&page=' + this.state.page\r\n            + '&per_page=' + this.state.perPage;\r\n \r\n        console.log(Url);\r\n        \r\n        request\r\n            .get(Url)\r\n            .then(res => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    isLoading: false,\r\n                    homeContents: [...this.state.homeContents, ...res.body],\r\n                    hasMore: (res.length < this.state.perPage)\r\n                });\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    inLoaded: true,\r\n                    error\r\n                });\r\n           });\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { error, isLoaded, homeContents } = this.state;\r\n\r\n        //let tempContents1 =  homeContents.filter(x => x.type !== 'generic-home');\r\n        //let genericHome =  homeContents.filter(x => x.type === 'generic-home');\r\n\r\n        if (error) {\r\n            return (<div> Error : {error.message}</div>);\r\n        } else if (!isLoaded) {\r\n            return (<div> Loading Data.... </div>);\r\n        } else {\r\n\r\n            return (\r\n\r\n                <div onScroll={this.handleScroll}>\r\n\r\n                    {/* Itreate top level contents line Series and Other Data */}\r\n                    {homeContents.map((series, cnt) => (\r\n                        <div key={cnt}>\r\n\r\n                            <div className=\"home-div\">\r\n\r\n                                {/* Check Either the Current Level of Itration is a ( SERIES) */}\r\n                                {series.type === 'series' &&\r\n                                    series.data.map((matches, mat) => (\r\n\r\n                                        <div key={mat} >\r\n                                            {/* Render Series Contents Matches/Videos/Articles/Tweets etc */}\r\n                                            {matches.data.map((match, i) => (\r\n                                                <div key={i}>\r\n                                                    <SeriesContentsIdentifire match={match}\r\n                                                        printSeriesTitle={i}\r\n                                                        seriesTitle={series.title}\r\n                                                        contentType={matches.type} />\r\n                                                </div>\r\n                                            ))}\r\n                                            {/* ----------------- End Series Contents ------------- */}\r\n                                        </div>\r\n                                    ))}\r\n                                {/* -------------------------------------------------------------------------- */}\r\n\r\n                                {/* Check Either the Current Level of Itration is a ( RANKING ) */}\r\n\r\n                                {/* {series.type==='ranking' && \r\n                                        <div>\r\n                                             {this.setState({ranking: series})}\r\n                                        </div>  \r\n                                 }  */}\r\n\r\n                                {/* --------------------------------------------------------------------------\r\n\r\n                                {/* Check Either the Current Level of Itration is Other than  ( VIDEO ) */}\r\n                                {series.type === 'video' &&\r\n                                    <div>\r\n                                        <OtherContentsIdentifire contents={series}\r\n                                            contentType={series.type}\r\n                                            typeVideo={'video'}\r\n                                        />\r\n                                    </div>\r\n                                }\r\n\r\n                                {/* ------------------------------------------------------------------------- */}\r\n\r\n\r\n\r\n                                {/* Check Either the Current Level of Itration is Other than  ( SERIES ) */}\r\n                                {series.type === 'generic-home' &&\r\n                                    <div>\r\n                                        <OtherContentsIdentifire contents={series}\r\n                                            contentType={series.type}\r\n                                        />\r\n\r\n                                    </div>\r\n                                }\r\n                                {/* ------------------------------------------------------------------------- */}\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    ))}\r\n                    {/* -------------END OF ITRATION--------------------------- */}\r\n\r\n                </div>\r\n            )\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default HomeCenterPanel;\r\n"]},"metadata":{},"sourceType":"module"}